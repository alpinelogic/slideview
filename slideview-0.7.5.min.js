/*! Slideview.js - v0.7.5 - 2014-09-06
 * http://istocode.github.io/slideview
 * Copyright (c) 2014 Billy Onjea.
 * Licensed under the MIT license.
 */ !function(a){"use strict";function b(a,c){return a&&-1!==a.indexOf("#")?(this.element=e(a),this.offscreenContainer=e(t.offscreen,this.element),this.slides=h.call(f(t.slide,this.element)),this.nextBtn=e(t.next,this.element),this.prevBtn=e(t.prev,this.element),this._index=this._currentOffset=0,this._total=this.slides&&this.slides.length||0,this.options=j(b.defaults,c),this._hundredPercent=100,this._increaseFactor=this._total/this.options.slidesToShow,this._offscreenWidth=this._hundredPercent*this._increaseFactor,this._slideWidth=this._hundredPercent/this._total,void this._init()):void i("Slideview: You must provide and ID selector!")}var c=a,d=c.document,e=function(a,b){return(b||d).querySelector(a)},f=function(a,b){return(b||d).querySelectorAll(a)},g=Object.prototype.hasOwnProperty,h=Array.prototype.slice,i=function(a){throw new Error(a)},j=function(){var a,b,c=0,d=arguments.length,e={};for(d;d>c;c+=1){a=arguments[c];for(b in a)g.call(a,b)&&(e[b]=a[b])}return e},k=function(a,b,c){var d;a&&b&&c&&a.addEventListener&&(d=b.split(" "),d.length>1?d.forEach(function(b){a.addEventListener(b,c,!1)}):a.addEventListener(b,c,!1))},l=function(a){a.style.display="none"},m=function(a){a.style.display="block"},n=function(){var a=["Webkit","Moz","O","ms"],b=d.createElement("div").style,c="Transform",e=0,f=a.length;for(e;f>e;e+=1)if(a[e]+c in b)return a[e]},o=function(a){var b=n();return b?b+a[0].toUpperCase()+a.slice(1):a},p=function(){var a=d.createElement("div"),b={support:!1},c=n()||"",e=("-"+c+"-").toLowerCase();return a.style.cssText="width:"+e+"calc(10px)",a.style.length||(e="",a.style.cssText="width:calc(10px)"),a.style.length&&(b.support=!0,b.prefix=e),b},q=function(a){return c.getComputedStyle(a,null)},r=function(a,b){return b?b.getPropertyValue(a)||b[a]:void 0},s=function(){var a,b=d.createElement("div"),c={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"};for(a in c)if(void 0!==b.style[a])return c[a]},t={plugin:".slideview",slide:".slide",offscreen:".offscreen",nav:".nav",prev:".prev",next:".next"};b.defaults={slidesToShow:4,endSlideBack:!1,resizeDelay:150},b.prototype={constructor:b,_init:function(){this._setWidths(),this._attachResize(),this._attachClick(),this._attachTransitionEnd()},_attachResize:function(){var a,b=this;this._tryFixRoundingError(),k(c,"resize",function(){this.clearTimeout(a),a=this.setTimeout(b._handleResize.bind(b),b.options.resizeDelay)})},_handleResize:function(){this._tryFixRoundingError()},_tryFixRoundingError:function(){var a=r("width",q(this.element.parentNode)),b=parseFloat(a)%this.options.slidesToShow;this.element.style.width=b>0?parseFloat(a)-b+"px":""},_attachClick:function(){var a=this;k(this.prevBtn,"click",function(b){b&&b.preventDefault(),a.show(a._index-1)}),k(this.nextBtn,"click",function(b){b&&b.preventDefault();var c=a._index+1>a._total-a.options.slidesToShow;return a.options.endSlideBack&&c?a.slideToFirst():void a.show(a._index+1)})},_attachTransitionEnd:function(){this._transitionend={type:s(),executed:!1,callback:this._handleTransitionEnd.bind(this)},k(this.offscreenContainer,this._transitionend.type,this._transitionend.callback)},_handleTransitionEnd:function(a){a&&a.stopPropagation();var b;a&&"transform"===a.propertyName&&(b=this,h.call(this.element.classList).forEach(function(a){("sliding"===a||"slide-to-first"===a||"slide-to-last"===a)&&b.element.classList.remove(a)}),this._transitionend.executed=!0)},getSlideWidth:function(){return this._slideWidth},getOffscreenWidth:function(){return this._offscreenWidth},currentSlide:function(){return this.slides[this._index]},_setSlideWidth:function(a){var b,c=q(a),d=r("marginLeft",c),e=r("marginRight",c),f=parseFloat(d)+parseFloat(e),g=this.getSlideWidth(),h=p();f>0&&h.support?(b="calc("+g+"% - "+d+" - "+e+")",a.style.width=h.prefix+b):a.style.width=g-(f||0)+"%"},_setWidths:function(){var a=this;l(this.offscreenContainer),this.offscreenContainer.style.width=this.getOffscreenWidth()+"%",this.slides.forEach(function(b){a._setSlideWidth(b)}),this.show(this._index),m(this.offscreenContainer)},_setIndex:function(a){this._index=Math.min(Math.max(0,a),this._total-1)},_applyClasses:function(){var a;this.slides.forEach(function(a){a.classList.remove("active"),a.classList.remove("next-slide"),a.classList.remove("last-view-slide")}),this.currentSlide().classList.add("active"),this.slides[this._index+this.options.slidesToShow-1].classList.add("last-view-slide"),a=this.slides[this._index+this.options.slidesToShow],a&&a.classList.add("next-slide")},_move:function(){var a=0===this._currentOffset?0:-1*this._currentOffset;this._transitionend&&(this.element.classList.add("sliding"),this._transitionend.executed=!1),this.offscreenContainer.style[o("transform")]="translate("+a+"%, 0)",this._applyClasses()},slideToFirst:function(){0!==this._index&&(this._setIndex(this._currentOffset=0),this.element.classList.add("slide-to-first"),this._move())},slideToLast:function(){var a=this._total-this.options.slidesToShow;this._index!==a&&(this._currentOffset=a*this.getSlideWidth(),this._setIndex(a),this.element.classList.add("slide-to-last"),this._move())},show:function(a){var b=this.getSlideWidth();this._index!==a&&this._setIndex(a),0===this._index?this._currentOffset=0:this._index>this._total-this.options.slidesToShow?(this._currentOffset=b*(this._total-this.options.slidesToShow),this._setIndex(this._total-this.options.slidesToShow)):this._currentOffset=b*this._index,this._move()}},c.Slideview=b}(window);