/*! Slideview.js - v0.7.6 - 2014-09-25
 * http://istocode.github.io/slideview
 * Copyright (c) 2014 Billy Onjea.
 * Licensed under the MIT license.
 */ !function(a){"use strict";function b(a,c){return a&&-1!==a.indexOf("#")?(this.element=f(a),this.offscreenContainer=f(u.offscreen,this.element),this.slides=i.call(g(u.slide,this.element)),this.nextBtn=f(u.next,this.element),this.prevBtn=f(u.prev,this.element),this.options=k(b.defaults,c),this._index=this._currentOffset=0,this._total=this.slides&&this.slides.length||0,this._hundredPercent=100,this._increaseFactor=this._total/this.options.slidesToShow,this._offscreenWidth=this._hundredPercent*this._increaseFactor,this._slideWidth=this._hundredPercent/this._total,void this._init()):void j("Slideview: You must provide and ID selector!")}var c=a,d=c.document,e=/Constructor/.test(c.HTMLElement),f=function(a,b){return(b||d).querySelector(a)},g=function(a,b){return(b||d).querySelectorAll(a)},h=Object.prototype.hasOwnProperty,i=Array.prototype.slice,j=function(a){throw new Error(a)},k=function(){var a,b,c=0,d=arguments.length,e={};for(d;d>c;c+=1){a=arguments[c];for(b in a)h.call(a,b)&&(e[b]=a[b])}return e},l=function(a,b,c){var d;a&&b&&c&&a.addEventListener&&(d=b.split(" "),d.length>1?d.forEach(function(b){a.addEventListener(b,c,!1)}):a.addEventListener(b,c,!1))},m=function(a){a.style.display="none"},n=function(a){a.style.display="block"},o=function(){var a=["Webkit","Moz","O","ms"],b=d.createElement("div").style,c="Transform",e=0,f=a.length;for(e;f>e;e+=1)if(a[e]+c in b)return a[e]},p=function(a){var b=o();return b?b+a[0].toUpperCase()+a.slice(1):a},q=function(){var a=d.createElement("div"),b={support:!1},c=o()||"",e=("-"+c+"-").toLowerCase();return a.style.cssText="width:"+e+"calc(10px)",a.style.length||(e="",a.style.cssText="width:calc(10px)"),a.style.length&&(b.support=!0,b.prefix=e),b},r=function(a){return c.getComputedStyle(a,null)},s=function(a,b){return b?b.getPropertyValue(a)||b[a]:void 0},t=function(){var a,b=d.createElement("div"),c={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"};for(a in c)if(void 0!==b.style[a])return c[a]},u={plugin:".slideview",slide:".slide",offscreen:".offscreen",nav:".nav",prev:".prev",next:".next"};b.defaults={slidesToShow:4,endSlideBack:!1,resizeDelay:150},b.prototype={constructor:b,_init:function(){this._setWidths(),e&&this._attachResize(),this._attachClick(),this._attachTransitionEnd()},_attachResize:function(){var a,b=this;this._tryFixRoundingError(),l(c,"resize",function(){this.clearTimeout(a),a=this.setTimeout(b._handleResize.bind(b),b.options.resizeDelay)})},_handleResize:function(){this._tryFixRoundingError()},_tryFixRoundingError:function(){var a=s("width",r(this.element.parentNode)),b=parseFloat(a)%this.options.slidesToShow;this.element.style.width=b>0?parseFloat(a)-b+"px":""},_attachClick:function(){var a=this;l(this.prevBtn,"click",function(b){b&&b.preventDefault(),a.show(a._index-1)}),l(this.nextBtn,"click",function(b){b&&b.preventDefault();var c=a._index+1>a._total-a.options.slidesToShow;return a.options.endSlideBack&&c?a.slideToFirst():void a.show(a._index+1)})},_attachTransitionEnd:function(){this._transitionend={type:t(),executed:!1,callback:this._handleTransitionEnd.bind(this)},l(this.offscreenContainer,this._transitionend.type,this._transitionend.callback)},_handleTransitionEnd:function(a){a&&a.stopPropagation();var b;a&&"transform"===a.propertyName&&(b=this,i.call(this.element.classList).forEach(function(a){("sliding"===a||"slide-to-first"===a||"slide-to-last"===a)&&b.element.classList.remove(a)}),this._transitionend.executed=!0)},getSlideWidth:function(){return this._slideWidth},getOffscreenWidth:function(){return this._offscreenWidth},currentSlide:function(){return this.slides[this._index]},_setSlideWidth:function(a){var b,c=r(a),d=s("marginLeft",c),e=s("marginRight",c),f=parseFloat(d)+parseFloat(e),g=this.getSlideWidth(),h=q();f>0&&h.support?(b="calc("+g+"% - "+d+" - "+e+")",a.style.width=h.prefix+b):a.style.width=g-(f||0)+"%"},_setWidths:function(){var a=this;m(this.offscreenContainer),this.offscreenContainer.style.width=this.getOffscreenWidth()+"%",this.slides.forEach(function(b){a._setSlideWidth(b)}),this.show(this._index),n(this.offscreenContainer)},_setIndex:function(a){this._index=Math.min(Math.max(0,a),this._total-1)},_applyClasses:function(){var a;this.slides.forEach(function(a){a.classList.remove("active"),a.classList.remove("next-slide"),a.classList.remove("last-view-slide")}),this.currentSlide().classList.add("active"),this.slides[this._index+this.options.slidesToShow-1].classList.add("last-view-slide"),a=this.slides[this._index+this.options.slidesToShow],a&&a.classList.add("next-slide")},_move:function(){var a=0===this._currentOffset?0:-1*this._currentOffset;this._transitionend&&(this.element.classList.add("sliding"),this._transitionend.executed=!1),this.offscreenContainer.style[p("transform")]="translate("+a+"%, 0)",this._applyClasses()},slideToFirst:function(){0!==this._index&&(this._setIndex(this._currentOffset=0),this.element.classList.add("slide-to-first"),this._move())},slideToLast:function(){var a=this._total-this.options.slidesToShow;this._index!==a&&(this._currentOffset=a*this.getSlideWidth(),this._setIndex(a),this.element.classList.add("slide-to-last"),this._move())},show:function(a){var b=this.getSlideWidth();this._index!==a&&this._setIndex(a),0===this._index?this._currentOffset=0:this._index>this._total-this.options.slidesToShow?(this._currentOffset=b*(this._total-this.options.slidesToShow),this._setIndex(this._total-this.options.slidesToShow)):this._currentOffset=b*this._index,this._move()}},c.Slideview=b}(window);